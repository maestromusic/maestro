#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# Copyright 2009 Martin Altmayer
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License version 3 as
# published by the Free Software Foundation
#

"""Convenience script to reset the database (drop all tables and create them again). The script will ask you which tags you want to use."""

from omg import database,config

if input("Really? (y,n)") != "y":
    quit()
    
defaultTags = "album,artist,composer,date(date),genre,performer,title"
tags = input("What text do you want to use? [{}]".format(defaultTags))

if tags.strip() == '':
    tags = defaultTags

config.init({})    
database.connect()
print("Resetting database...")
database.resetDatabase(tags.strip())
print("...done")